## 컴파일러

기존 자바스크립트의 실행과정
  1. 프로그램이 AST로 파싱된다.
  2. AST가 바이트코드로 컴파일된다.
  3. 런타임이 바이트코드를 평가한다.

하지만 타입스크립트 컴파일러는 AST를 만들어 결과 코드를 내놓기 전에 타입 확인을 거친다

타입 검사기(typechecker) : 코드의 타입 안정성을 검증하는 특별한 프로그램

타입스크립트의 실행과정

1. 타입스크립트 소스가 타입스크립트 AST로 파싱된다
2. 타입 검사기가 AST를 확인한다.
3. 타입 스크립트 AST가 자바스크립트로 변환하고 기존 자바스크립트의 실행과정을 거친다.

## 타입 시스템

타입 시스템은 타입 검사기가 프로그램에 타입을 할당하는 데 사용하는 규칙 집합이다.

타입 시스템은 보통 두 가지 종류로 나눈다.

1. 어떤 타입을 사용하는지를 컴파일러에 명시적으로 알려주는 타입 시스템

    ```jsx
    let a: number = 1 // a의 타입은 number
    let b: string = 'hello!' // b의 타입은 string
    let c: boolea[] = [true, false] //c의 타입은 boolean 배열
    ```

2. 자동으로 타입을 추론하는 타입 시스템

    ```jsx
    let a = 1 // a의 타입은 number
    let b = 'hello!' // b의 타입은 string
    let c = [true, false] //c의 타입은 boolean 배열
    ```

### 타입스크립트와 자바스크립트의 특징

|타입 시스템 기능|자바스크립트|타입스크립트|
|:---|:---:|:---:|
|타입 결정 방식|동적|정적|
|타입이 자동으로 변환되는가?|O|X(대부분)|
|언제 타입을 확인하는가?|런타임|컴파일 타임|
|언제 에러를 검출하는가?|런타임(대부분)|컴파일 타임(대부분)|

자바스크립트는 주어진 상황에서 개발자가 무엇을 의도하는지에 맞춰 변환하려 최대한 노력할 뿐 거의 대부분의 상황에서 타입이 무엇인지 따지지 않는다. 하지만 타입스크립트는 컴파일 타임에 코드의 타입을 확인하기 때문에 코드를 실행하지 않고도 이전 예제 코드에 에러가 있음을 바로 알 수 있다. 정적으로 코드를 분석하여 코드를 실행하기 전에 실수를 바로잡을 수 있다.

하지만 스택오버플로우, 네트워크 연결 끊김, 잘못된 사용자 입력 등 타입스크립트가 컴파일 타임에 검출할 수 없는 런타임 예외도 있다. 다만 순수 자바스크립트에서 런타임 에러로 발생했을 때 많은 에러를 타입스크립트는 컴파일 타임에 검출할 수 있다는게 핵심이다.