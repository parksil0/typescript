타입스크립트의 타입 시스템은 표현력이 좋을 뿐 아니라 쉽게 사용할 수 있고, 타입 제한과 관계 선언을 쉽고 간결하게 만들어주며. 심지어 타입을 명시하지 않아도 대부분 자동으로 추론해준다.

이번 장에서는 아래와 같은 타입스크립트의 제어 흐름 기반의 타입 확인의 개념에 대해 알아보려 한다

- 서브타입화
- 할당성
- 가변성
- 넓히기

## 타입 간의 관계

### 서브타입과 슈퍼타입

서브타입이란 타입 A와 B가 있고, B가 A의 서브타입이면 A가 필요한 곳에는 어디든 B를 안전하게 사용할 수 있다. 예를들어,

- 배열은 객체의 서브타입이다.
- 튜플은 배열의 서브타입이다.
- 모든 것은 any의 서브타입이다.
- never은 모든 것의 서브타입이다.
- Animal을 상속받은 Bird 클래스가 있다면 Bird은 Animal의 서브타입이다.

서브타입의 정의를 여기에 적용하면 다음과 같이 설명할 수 있다.

- 객체를 사용하는 하는 곳에 배열도 사용할 수 있다.
- 배열을 사용해야 하는 곳에 튜플도 사용할 수 있다.
- any를 사용해야 하는 곳에 객체도 사용할 수 있다.
- 어디에나 never를 사용할 수 있다.
- Animal을 사용해야 하는 곳에 Bird도 사용할 수 있다.

슈퍼타입이란  타입 A와 B가 있고 B가 A의 슈퍼타입이면 B가 필요한 곳에는 어디든 A를 안전하게 사용할 수 있다.

- 배열은 튜플의 슈퍼타입이다.
- 객체는 배열의 슈퍼타입이다.
- any는 모든 것의 슈퍼타입이다.
- never는 누구의 슈퍼타입도 아니다.
- Animal은 Bird의 슈퍼타입이다.

위의 내용을 보아 슈퍼타입은 서브타입과 정반대로 동작한다.